import{d as w,r as D,a7 as C,f as x,o as u,g as i,i as W,m as h,T as r,L as $,O as B,z as d,b as O}from"../modules/vue-DWzKyUbz.js";import{ak as A,aq as M}from"../index-UkPYdSEg.js";const V=["width","height"],E=["id"],I=["fill"],N=["id"],S=["fill"],U=["x1","y1","x2","y2","stroke","stroke-width","marker-end","marker-start"],X=["x1","y1","x2","y2"],q=w({__name:"Arrow",props:{x1:{},y1:{},x2:{},y2:{},width:{},color:{},twoWay:{type:Boolean}},emits:["dblclick","clickOutside"],setup(t,{emit:o}){const l=o,n=A(),c={markerUnits:"strokeWidth",markerHeight:7,refY:3.5,orient:"auto"},s=D();return C(s,()=>l("clickOutside")),(k,e)=>(u(),x("svg",{class:"absolute left-0 top-0",width:Math.max(+t.x1,+t.x2)+50,height:Math.max(+t.y1,+t.y2)+50},[i("defs",null,[i("marker",h({id:r(n),markerWidth:"10",refX:"9"},c),[i("polygon",{points:"0 0, 10 3.5, 0 7",fill:t.color||"currentColor",onDblclick:e[0]||(e[0]=a=>l("dblclick"))},null,40,I)],16,E),t.twoWay?(u(),x("marker",h({key:0,id:`${r(n)}-rev`,markerWidth:"20",refX:"11"},c),[i("polygon",{points:"20 0, 10 3.5, 20 7",fill:t.color||"currentColor",onDblclick:e[1]||(e[1]=a=>l("dblclick"))},null,40,S)],16,N)):W("v-if",!0)]),i("line",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stroke:t.color||"currentColor","stroke-width":t.width||2,"marker-end":`url(#${r(n)})`,"marker-start":t.twoWay?`url(#${r(n)}-rev)`:"none",onDblclick:e[2]||(e[2]=a=>l("dblclick"))},null,40,U),i("line",{ref_key:"clickArea",ref:s,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stroke:"transparent","stroke-linecap":"round","stroke-width":20,onDblclick:e[3]||(e[3]=a=>l("dblclick"))},null,40,X)],8,V))}}),T=w({__name:"VDragArrow",props:{pos:{},markdownSource:{},width:{},color:{},twoWay:{type:Boolean}},setup(t){const o=t,{dragId:l,mounted:n,unmounted:c,startDragging:s,stopDragging:k,x0:e,y0:a,width:m,height:y}=M(null,o.pos??"100,100,300,300",o.markdownSource,!0);$(n),B(c);const f=d(()=>e.value-m.value/2),g=d(()=>a.value-y.value/2),v=d(()=>e.value+m.value/2),b=d(()=>a.value+y.value/2);return(z,H)=>(u(),O(q,{x1:f.value,y1:g.value,x2:v.value,y2:b.value,"data-drag-id":r(l),width:o.width,color:o.color,"two-way":o.twoWay,onDblclick:r(s),onClickOutside:r(k)},null,8,["x1","y1","x2","y2","data-drag-id","width","color","two-way","onDblclick","onClickOutside"]))}});export{T as _};
